0 ? CHR$(125);"Advent of Code 2016 - Day 19":OPEN #1,4,0,"H:INPUT.TXT":GET #1,A:V=0
1 V=V*10+(A-48):GET #1,A:ON A<>10 GOTO 1:CLOSE #1:P=1
2 POW=INT((LOG(V)/LOG(2))):P=1:FOR I=1 TO POW:P=P*2:NEXT I:? (2*(V-P))+1:P=1
3 IF 3*P<=V THEN P=P*3:GOTO 3
4 IF V=P THEN ? V:END 
5 M=V-(2*P):IF M<0 THEN M=0
6 ? V-P+M
